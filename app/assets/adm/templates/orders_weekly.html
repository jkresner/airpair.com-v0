


<div class="container">
  <div class="row">

    <div class="col-sm-4">
      <h3 class="text-thin">Weekly Report</h3>
    </div>
<!--     <div class="col-sm-4">
      <small class="text-muted">Start</small>
      <input class="form-control" type="date" name="input" ng-model="dateStart" placeholder="yyyy-MM-dd" min="2013-01-01" max="" required/>
    </div>
    <div class="col-sm-4">
      <small class="text-muted">End</small>
      <input class="form-control" type="date" name="input" ng-model="dateEnd" placeholder="yyyy-MM-dd" min="2013-01-01" max="" required/>
    </div>

 -->  </div>


</div>

<hr>

  <div class="container">

    <div class="row">
      <div class="col-sm-4">
        <h4 class="text-thin">Demand</h4>
      </div>
      <div class="col-sm-4">
        <small class="text-muted">Start</small>
        <input class="form-control" type="date" name="startdate" ng-model="dateStart" placeholder="yyyy-MM-dd" min="2013-01-01" max="" required/>
      </div>
      <div class="col-sm-4">
        <small class="text-muted">End</small>
        <input class="form-control" type="date" name="enddate" ng-model="dateEnd" placeholder="yyyy-MM-dd" min="2013-01-01" max="" required/>
      </div>

    </div>
    <!-- <h4 class="text-thin">Demand</h4> -->

      <table class="table m-t-1 growth">
        <thead>
          <th class="first">LTV</th>
          <th>Profit</th>
          <th class="text-muted">Margin</th>
          <th>Revenue</th>
          <th class="text-muted">Rev/Hr</th>
          <th>Hours</th>
          <th class="text-muted">Hr/Cust</th>
          <th class="last">Customers</th>
        </thead>

        <tr class="success">
          <td>{{reportTotals.ltv | currency}}</td>
          <td>{{reportTotals.gross | number : 0}}</td>
          <td class="text-orange">{{reportTotals.margin * 100 | number : 2}}%</td>
          <td>{{reportTotals.revenue | number : 0}}</td>
          <td class="text-orange">{{reportTotals.revPerHour | number : 1}}</td>
          <td>{{reportTotals.hrsSold}}</td>
          <td class="text-orange">{{reportTotals.hrPerCust | number : 2}}</td>
          <td>{{reportTotals.customerTotal}}</td>
        </tr>
      </table>

      <table class="table growth">

        <thead>
          <th class="mth first">Week</th>
          <th class="gro">Hrs on Air</th>
          <th class="gro text-muted">(util)</th>
          <th class="hrs">Hours Sold</th>
          <th class="hrs text-muted">(profit/hr)</th>
          <th class="gro">Profit</th>
          <th class="mar text-muted">Margin</th>
          <th class="rev">Revenue</th>
          <th class="avh text-muted">rev/cust</th>
          <th class="hrc text-muted">hr/cust</th>
          <th class="mth">Customers</th>
          <th class="text-left text-muted">Repeat</th>
          <th class="">Orders</th>
          <th class="text-muted">req/order</th>
          <th class="last">Requests</th>
        </thead>

        <tr ng-repeat="r in report" class="{{r.css}}">
          <td class="text-muted">{{r.intervalName}}</td>
          <td>
            <span ng-if="r.hrsOnAir" class="animated-fast fadeIn">{{r.hrsOnAir | number:0}}</span>
            <span ng-if="r.phrsOnAir" ng-class="{'text-danger': r.phrsOnAir < 0, 'text-success': r.phrsOnAir > 0}">{{r.phrsOnAir*100 | number:0}}%</span>
          </td>
          <td class="text-orange">
            <span ng-if="r.hrsAirPerHrsSold" class="animated-fast fadeIn">{{r.hrsAirPerHrsSold*100 | number:0}}%</span>
            <span ng-if="r.phrsAirPerHrsSold" ng-class="{'text-danger': r.phrsAirPerHrsSold < 0, 'text-success': r.phrsAirPerHrsSold > 0}">{{r.phrsAirPerHrsSold*100 | number:0}}%</span>
          </td>
          <td>
            <span ng-if="r.hrsSold">{{r.hrsSold | number:0}}</span>
            <span ng-if="r.phrsSold" ng-class="{'text-danger': r.phrsSold < 0, 'text-success': r.phrsSold > 0}">{{r.phrsSold*100 | number:0}}%</span>
          </td>
          <td class="text-orange">
            <span ng-if="r.profitPerHour">{{r.profitPerHour | number:0}}</span>
            <span ng-if="r.pprofitPerHour" ng-class="{'text-danger': r.pprofitPerHour < 0, 'text-success': r.pprofitPerHour > 0}">{{r.pprofitPerHour*100 | number:0}}%</span>
          </td>
          <td>
            <span ng-if="r.gross">{{r.gross | number:0}}</span>
            <span ng-if="r.pgross" ng-class="{'text-danger': r.pgross < 0, 'text-success': r.pgross > 0}">{{r.pgross*100 | number:0}}%</span>
          </td>
          <td class="text-orange">
            <span ng-if="r.margin">{{r.margin*100 | number:0}}%</span>
            <span ng-if="r.pmargin" ng-class="{'text-danger': r.pmargin < 0, 'text-success': r.pmargin > 0}">{{r.pmargin*100 | number:0}}%
            </span>
          </td>
          <td>
            <span ng-if="r.revenue">{{r.revenue | number:0}}</span>
            <span ng-if="r.prevenue" ng-class="{'text-danger': r.prevenue < 0, 'text-success': r.prevenue > 0}">{{r.prevenue*100 | number:0}}%</span>
          </td>
          <td class="text-orange">
            <span ng-if="r.revPerCust">{{r.revPerCust | number:0}}</span>
            <!-- <span ng-if="r.revPerHour">{{r.revPerHour | number:0}}</span> -->
            <span ng-if="r.prevPerCust" ng-class="{'text-danger': r.prevPerCust < 0, 'text-success': r.prevPerCust > 0}">{{r.prevPerCust*100 | number:0}}%</span>

          </td>
          <td class="text-orange">
            <span ng-if="r.hrPerCust">{{r.hrPerCust | number:1}}</span>
            <span ng-if="r.phrPerCust" ng-class="{'text-danger': r.phrPerCust < 0, 'text-success': r.phrPerCust > 0}">{{r.phrPerCust*100 | number:0}}%</span>
          </td>
          <td>
            <span ng-if="r.customerTotal">{{r.customerTotal | number:0}}</span>
            <span ng-if="r.pcustomerTotal" ng-class="{'text-danger': r.pcustomerTotal < 0, 'text-success': r.pcustomerTotal > 0}">{{r.pcustomerTotal*100 | number:0}}%</span>
          </td>
          <td class="text-left">
            <span ng-if="r.custReturningPercent">{{r.custReturningPercent*100 | number:0}}%</span>
            <span ng-if="r.pcustReturningPercent" ng-class="{'text-danger': r.pcustReturningPercent < 0, 'text-success': r.pcustReturningPercent > 0}">{{r.pcustReturningPercent*100 | number:0}}%</span>
          </td>
          <td>
            <span ng-if="r.orders.length">{{r.orders.length | number:0}}</span>
            <span ng-if="r.porders" ng-class="{'text-danger': r.porders < 0, 'text-success': r.porders > 0}">{{r.porders*100 | number:0}}%</span>

          </td>
          <td class="text-orange">
            <span ng-if="r.reqPerOrders" class="animated-fast fadeIn">{{r.reqPerOrders | number:0}}</span>
            <span ng-if="r.preqPerOrders" ng-class="{'text-danger': r.preqPerOrders < 0, 'text-success': r.preqPerOrders > 0}">{{r.preqPerOrders*100 | number:0}}%</span>
          </td>
          <td>
            <span ng-if="r.requestsNum" class="animated-fast fadeIn">{{r.requestsNum | number:0}}</span>
            <span ng-if="r.prequestsNum" ng-class="{'text-danger': r.prequestsNum < 0, 'text-success': r.prequestsNum > 0}">{{r.prequestsNum*100 | number:0}}%</span>
          </td>
        </tr>
      </table>









</div>


<hr>

<div class="container m-b-3">

  <h4 class="text-thin m-t-1">Orders</h4>





  <table class="table table-hover table-condensed growth"  Xng-repeat="week in weeks">

    <thead>

      <th>Week</th>
      <th>Total</th>
      <th class="text-info">Ad</th>
      <th class="text-info">Affiliate</th>
      <th class="text-info">Direct</th>
      <th class="text-info">Newsletter</th>
      <th class="text-info">Incubator</th>
      <th class="text-info">Press</th>
      <th class="text-info">SEO</th>
      <th class="text-info">Social</th>
      <!-- <th class="text-info">Stack Overflow</th> -->
      <th class="text-info">WoM</th>
      <th class="text-info">Untracked</th>
    </thead>



    <tr ng-repeat-start="week in channelGrowth">

      <td class="text-muted">{{week.str}}</td>
      <td>{{week.metrics.summary.numOrders}}</td>
      <td class="text-info">{{week.metrics.summary.tags.ad.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.affiliate.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.direct.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.newsletterairpair.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.incubator.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.press.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.seo.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.social.count | number: 0}}</td>
      <!-- <td class="text-info">{{week.metrics.summary.tags.stackoverflowads.count | number: 0}}</td> -->
      <td class="text-info">{{week.metrics.summary.tags.wordofmouth.count | number: 0}}</td>
      <td class="text-info">{{week.metrics.summary.tags.untracked.count | number: 0}}</td>
    </tr>

    <tr class="row-small" ng-repeat-end ng-show="week.diffTags">

      <td></td>
      <td></td>
      <td ng-class="{'text-danger': week.diffTags.ad.count < 0, 'text-success': week.diffTags.ad.count > 0}">{{ week.diffTags.ad.count*100 | number:1}}%</td>
      <td ng-class="{'text-danger': week.diffTags.affiliate.count < 0, 'text-success': week.diffTags.affiliate.count > 0}">{{ week.diffTags.affiliate.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.direct.count < 0, 'text-success': week.diffTags.direct.count > 0}">{{ week.diffTags.direct.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.newsletterairpair.count < 0, 'text-success': week.diffTags.newsletterairpair.count > 0}">{{ week.diffTags.newsletterairpair.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.incubator.count < 0, 'text-success': week.diffTags.incubator.count > 0}">{{ week.diffTags.incubator.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.press.count < 0, 'text-success': week.diffTags.press.count > 0}">{{ week.diffTags.press.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.seo.count < 0, 'text-success': week.diffTags.seo.count > 0}">{{ week.diffTags.seo.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.social.count < 0, 'text-success': week.diffTags.social.count > 0}">{{ week.diffTags.social.count*100 | number:1 }}%</td>
      <!-- <td ng-class="{'text-danger': week.diffTags.stackoverflowads.count < 0, 'text-success': week.diffTags.stackoverflowads.count > 0}">{{ week.diffTags.stackoverflowads.count*100 | number:1 }}%</td> -->
      <td ng-class="{'text-danger': week.diffTags.wordofmouth.count < 0, 'text-success': week.diffTags.wordofmouth.count > 0}">{{ week.diffTags.wordofmouth.count*100 | number:1 }}%</td>
      <td ng-class="{'text-danger': week.diffTags.untracked.count < 0, 'text-success': week.diffTags.untracked.count > 0}">{{ week.diffTags.untracked.count*100 | number:1 }}%</td>

    </tr>

  </table>

</div>
